# JARVIS Vector Database (ChromaDB) Configuration
# Optimized for AI-powered semantic search and embeddings

[chroma]
# Server configuration
host = 0.0.0.0
port = 8000
log_level = INFO
log_config_path = /opt/chroma/logging.yaml

# Database settings
persist_directory = /opt/chroma/data
allow_reset = false
chroma_server_auth_provider = chromadb.auth.providers.HtpasswdServerAuthProvider
chroma_server_auth_credentials_file = /opt/chroma/.htpasswd

# Collection settings
default_embedding_function = sentence-transformers/all-MiniLM-L6-v2
max_batch_size = 100
default_n_results = 10

# Performance settings
sqlite_synchronous = 1
sqlite_cache_size = 2000
query_default_limit = 1000

# Storage settings
chroma_collection_embedding_cache_size = 1000
chroma_segment_cache_policy = LRU

# Security settings
chroma_server_cors_allow_origins = ["http://localhost:*", "https://localhost:*"]
chroma_server_host = 0.0.0.0
chroma_server_http_port = 8000

# Embedding settings
chroma_segment_directory = /opt/chroma/segments
chroma_telemetry_anonymous = false

# Index settings
chroma_sysdb_impl = chromadb.sysdb.sqlite.SqliteDB
chroma_producer_impl = chromadb.log.log.SimpleLog
chroma_consumer_impl = chromadb.log.log.SimpleLog
chroma_segment_manager_impl = chromadb.segment.manager.local.LocalSegmentManager

# Memory settings
chroma_segment_cache_policy = LRU
chroma_segment_cache_size = 128

# Backup settings
backup_enabled = true
backup_directory = /opt/chroma/backups
backup_retention_days = 30